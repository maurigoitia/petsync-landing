<!-- INICIO ARCHIVO HTML COMPLETO -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PetSync - Cuidado Veterinario Simplificado</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .hero-bg { background: linear-gradient(120deg, #3B82F6 0%, #1D4ED8 100%); }
    .mockup-card { box-shadow: 0px 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- HERO -->
  <section class="hero-bg text-white min-h-screen flex items-center justify-center p-6 md:p-12">
    <div class="text-center">
      <h1 class="text-4xl font-bold mb-4">PetSync: Cuidado Conectado</h1>
      <p class="mb-8">Tu veterinaria, en la palma de tu mano.</p>
      <a href="#pago-dinamico" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold">Quiero pagar</a>
    </div>
  </section>

  <!-- FORMULARIO DE PAGO -->
  <section id="pago-dinamico" class="max-w-xl mx-auto my-16 bg-white p-8 rounded-xl shadow-lg border border-gray-200">
    <h2 class="text-2xl font-bold mb-4 text-center">Realizar un pago en PetSync</h2>
    <form id="checkout-form" class="space-y-6">
      <div>
        <label for="concepto" class="block text-sm font-medium mb-1">¿Qué estás pagando?</label>
        <select id="concepto" name="concepto" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-blue-500" required>
          <option value="">Seleccionar concepto</option>
          <option value="Suscripción mensual">Suscripción mensual (nube)</option>
          <option value="Módulo Veterinaria">Módulo para veterinaria</option>
          <option value="Copia de Seguridad">Copia de seguridad de historial</option>
          <option value="Otro">Otro</option>
        </select>
      </div>
      <div>
        <label for="monto" class="block text-sm font-medium mb-1">Monto a pagar (ARS)</label>
        <input type="number" id="monto" name="monto" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-blue-500" placeholder="Ej: 5000" required min="1">
      </div>
      <button type="submit" class="w-full bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 transition">
        Ir al pago
      </button>
    </form>
  </section>

  <!-- FOOTER -->
  <footer class="bg-gray-800 text-white py-6 text-center">
    <p class="text-sm">&copy; 2025 PetSync - Todos los derechos reservados</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    document.getElementById('checkout-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const concepto = document.getElementById('concepto').value;
      const montoStr = document.getElementById('monto').value;
      const monto = parseInt(montoStr, 10);

      if (!concepto || isNaN(monto) || monto < 1) {
        alert("Ingresá un concepto y un monto válido");
        return;
      }

      try {
        const res = await fetch('https://us-central1-petsync-lu58g.cloudfunctions.net/createCheckout', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ concepto, monto })
        });

        const data = await res.json();
        if (res.ok && data.checkoutUrl) {
          window.location.href = data.checkoutUrl;
        } else {
          console.error('Respuesta del backend:', data);
          alert('Error al generar el link de pago.');
        }
      } catch (error) {
        console.error('Error de red:', error);
        alert('No se pudo conectar al servidor.');
      }
    });
  </script>
</body>
</html>
<!-- FIN ARCHIVO HTML COMPLETO -->

